
# Matrix-Vector Multiplication with AVX-512 Acceleration

## Introduction
This program demonstrates the efficiency of using AVX-512 vectorization for matrix-vector multiplication compared to a naive implementation. The source code includes two main functions: `matvec_naive` for the non-vectorized multiplication and `matvec_avx512` for the AVX-512 accelerated version. The program measures the execution time for both methods and calculates the speedup achieved by the vectorized approach.

## Prerequisites
- A C compiler (e.g., GCC, Clang)
- A processor that supports AVX-512 instructions
- Linux operating system

## Building the Program
To compile the program, use the following command:
```bash
gcc -O3 -mavx512f matvec_avx512.c -o matvec_avx512
```
This command compiles the code with AVX-512 and optimization level 3, ensuring that the code is optimized for performance.

```bash
gcc -O3 -mavx512f -S matvec_avx512.c -o matvec_avx512.s
```
This command creates a separate file which contains assembly listing

## Usage
Run the program by specifying the dimensions of the matrix (M and N) as command-line arguments:
```bash
./matvec_avx512 M N
```
Where:
- `M` is the number of rows in the matrix.
- `N` is the number of columns in the matrix (should be a multiple of 16 for the AVX-512 version).

## Example
```bash
./matvec 10000 10000
```
This command runs the matrix-vector multiplication for a 10000x10000 matrix.

## Output
The program outputs the execution time for both the naive and AVX-512 methods, the speedup achieved, and the maximum difference in results between the two methods to verify correctness.

Time naive (ms):   
Time AVX-512 (ms):  
Speedup:            
Max diff:           

## Source
https://stackoverflow.com/questions/78949022/small-performance-gain-using-avx512-over-sse-in-batch-quaternion-vector-multipli
https://www.intel.com/content/www/us/en/developer/articles/technical/accelerating-compute-intensive-workloads-with-intel-avx-512-using-microsoft-visual-studio.html
https://gist.github.com/nadavrot/5b35d44e8ba3dd718e595e40184d03f0?permalink_comment_id=2602745
https://github.com/elphinkuo/fast_matrix_multiplication/blob/main/dot_product/on_cpu/standard_c%2B%2B/matmul_standard.cpp
